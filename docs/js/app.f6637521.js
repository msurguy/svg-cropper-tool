(function(e){function t(t){for(var n,a,s=t[0],c=t[1],l=t[2],u=0,h=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(h.length)h.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==o[c]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},o={app:0},i=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/svg-cropper-tool/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var p=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"01f2":function(e,t,r){"use strict";(function(e){r("ac4d"),r("8a81"),r("1c4c"),r("7f7f"),r("6b54"),r("c5f6"),r("96cf"),r("28a5"),r("8615"),r("4f7f");var n=r("768b"),o=r("7618"),i=(r("456d"),r("ac6a"),r("5df3"),r("f400"),r("c966")),a=r.n(i),s=r("d877"),c=r.n(s),l=r("f754"),p=r.n(l),u=r("386d"),h=r.n(u),d=r("d85e"),f=r.n(d),m=r("0ea6"),v=r.n(m),g=r("e1d8"),b=r.n(g),y=r("444c"),w=r.n(y),x=r("8bcb"),C=r.n(x),S=r("0e48"),k=r.n(S),_=r("caca"),O=r.n(_),A=r("78ea"),E=r.n(A),P=r("8ce4"),j=r.n(P),I=r("2f09"),F=r.n(I),M=r("4cec"),z=r.n(M),G=r("e706"),T=r.n(G),V=r("e188"),D=r.n(V),L=r("fb7b"),$=r.n(L),B=r("e917"),R=r.n(B),N=r("a892"),U=r.n(N),H=r("59d0"),X=r.n(H),J=r("4f50"),K=r.n(J),Y=r("53ea"),Z=r.n(Y),q=r("91e5"),Q=r.n(q),W=r("fbd9"),ee=r.n(W),te=r("43f5"),re=r.n(te),ne=r("1f38"),oe=r.n(ne),ie=r("2b50"),ae=r.n(ie),se=r("61d6"),ce=r.n(se),le=r("34d3"),pe=r.n(le),ue=r("dca7"),he=r.n(ue),de=r("f6de"),fe=r.n(de),me=r("5599"),ve=r.n(me),ge=r("d314"),be=r.n(ge),ye=r("afce"),we=r.n(ye),xe=r("b971"),Ce=r.n(xe),Se=r("99d7"),ke=r.n(Se),_e=r("4e3e"),Oe=r.n(_e),Ae=r("8945"),Ee=r.n(Ae),Pe=r("b086"),je=r.n(Pe),Ie=r("ed7f"),Fe=r.n(Ie),Me=r("e25d"),ze=r.n(Me),Ge=r("1379"),Te=r.n(Ge),Ve=r("debe"),De=r.n(Ve),Le=r("b407"),$e=r.n(Le),Be=regeneratorRuntime.mark(We);function Re(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=Ne(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Ne(e,t){if(e){if("string"===typeof e)return Ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ue(e,t):void 0}}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}self.global=e;var He={removeDoctype:b.a,removeXMLProcInst:w.a,removeComments:C.a,removeMetadata:k.a,removeXMLNS:O.a,removeEditorsNSData:E.a,cleanupAttrs:j.a,inlineStyles:F.a,minifyStyles:z.a,convertStyleToAttrs:T.a,cleanupIDs:D.a,removeRasterImages:$.a,removeUselessDefs:R.a,cleanupNumericValues:U.a,cleanupListOfValues:X.a,convertColors:K.a,removeUnknownsAndDefaults:Z.a,removeNonInheritableGroupAttrs:Q.a,removeUselessStrokeAndFill:ee.a,removeViewBox:re.a,cleanupEnableBackground:oe.a,removeHiddenElems:ae.a,removeEmptyText:ce.a,convertShapeToPath:pe.a,moveElemsAttrsToGroup:he.a,moveGroupAttrsToElems:fe.a,collapseGroups:ve.a,convertPathData:be.a,convertTransform:we.a,removeEmptyAttrs:Ce.a,removeEmptyContainers:ke.a,mergePaths:Oe.a,removeUnusedNS:Ee.a,sortAttrs:je.a,removeTitle:Fe.a,removeDesc:ze.a,removeDimensions:Te.a,removeStyleElement:De.a,removeScriptElement:$e.a},Xe={plugins:{removeComments:{active:!0},removeMetadata:{active:!0},removeEditorsNSData:{active:!0},cleanupAttrs:{active:!0},inlineStyles:{active:!0},minifyStyles:{active:!0},convertStyleToAttrs:{active:!0},cleanupIDs:{active:!0},removeRasterImages:{active:!0},removeUselessDefs:{active:!0},cleanupNumericValues:{active:!0},cleanupListOfValues:{active:!0},convertColors:{active:!0},removeUnknownsAndDefaults:{active:!0},removeNonInheritableGroupAttrs:{active:!0},removeUselessStrokeAndFill:{active:!0},cleanupEnableBackground:{active:!0},removeHiddenElems:{active:!0},removeEmptyText:{active:!0},convertShapeToPath:{active:!0},moveElemsAttrsToGroup:{active:!0},moveGroupAttrsToElems:{active:!0},collapseGroups:{active:!0},convertPathData:{active:!0},convertTransform:{active:!0},removeEmptyAttrs:{active:!0},removeEmptyContainers:{active:!0},removeUnusedNS:{active:!0},sortAttrs:{active:!0},removeTitle:{active:!0},removeDesc:{active:!0},removeScriptElement:{active:!0}},floatPrecision:3,pretty:!0};function Je(e){var t=new Map;function r(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var o=n[r];e[o]=i(t[o])}return e}function i(e){if("object"!==Object(o["a"])(e)||null===e)return e;if(t.has(e))return t.get(e);var a;if(e.constructor===p.a)a=new p.a({},e.parentNode),t.set(e,a),e.parentNode&&(a.parentNode=i(e.parentNode)),r(a,e);else if(e.constructor===h.a||e.constructor===f.a||e.constructor===Object||e.constructor===Array)a=new e.constructor,t.set(e,a),r(a,e);else if(e.constructor===Map){a=new Map,t.set(e,a);var s,c=Re(e);try{for(c.s();!(s=c.n()).done;){var l=Object(n["a"])(s.value,2),u=l[0],d=l[1];a.set(i(u),i(d))}}catch(b){c.e(b)}finally{c.f()}}else{if(e.constructor!==Set)throw Error("unexpected type");a=new Set,t.set(e,a);var m,v=Re(e);try{for(v.s();!(m=v.n()).done;){var g=m.value;a.add(i(g))}}catch(b){v.e(b)}finally{v.f()}}return a}return i(e)}function Ke(e){return e.map((function(e){return[e]})).reduce((function(e,t){var r=e[e.length-1];return r&&t[0].type===r[0].type?r.push(t[0]):e.push(t),e}),[])}var Ye,Ze,qe=Ke(Object.values(He));function Qe(e){var t=e.content.filter((function(e){return e.isElem("svg")}))[0];if(!t)return{};if(t.hasAttr("width")&&t.hasAttr("height"))return{width:t.attr("width").value,height:t.attr("height").value};if(t.hasAttr("viewBox")){var r=t.attr("viewBox").value.split(/(?:,\s*|\s+)/);return{width:r[2],height:r[3]}}return{}}function We(e){var t,r,n,o,i,a,s;return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:for(Object.keys(e.plugins).forEach((function(t){He[t].active=e.plugins[t]})),t=Number(e.floatPrecision),r=0,n=Object.values(He);r<n.length;r++)o=n[r],o.params&&"floatPrecision"in o.params&&(o.params.floatPrecision=t);i=Je(Ye);case 4:if(void 0!==a&&a.length===s){l.next=12;break}return s=a&&a.length,v()(i,{input:"string"},qe),a=c()(i,{indent:"  ",pretty:e.pretty}).data,l.next=10,{data:a,dimensions:Qe(i)};case 10:l.next=4;break;case 12:case"end":return l.stop()}}),Be)}t["a"]={load:function(e){var t=e.data;if(a()(t,(function(e){return Ye=e})),Ye.error)throw Error(Ye.error);return Qe(Ye)},process:function(){return Ze=We(Xe),Ze.next().value},nextPass:function(){return Ze.next().value}}}).call(this,r("c8ba"))},1:function(e,t){},"130e":function(e,t,r){var n=r("038a");n.register({"angle-wide":{width:16,height:16,viewBox:"0 0 22 22",data:'<circle pid="0" cx="10.5" cy="11" r="9.5" _fill="#fff" _stroke="#f1f2f2" stroke-linecap="round" stroke-miterlimit="10" opacity=".2"/><path pid="1" d="M12.4 20.3l-1.9-7.8v-11" _fill="none" _stroke="#f1f2f2" stroke-linecap="round" stroke-miterlimit="10"/><path pid="2" d="M20 11a9.6 9.6 0 0 0-9.5-9.5v11l1.9 7.8A9.4 9.4 0 0 0 20 11z" _fill="none" _stroke="#f1f2f2" stroke-linecap="round" stroke-miterlimit="10"/>'}})},"1d0d":function(e,t,r){},2:function(e,t){},"229a":function(e,t,r){var n=r("038a");n.register({square:{width:16,height:16,viewBox:"0 0 22 22",data:'<path pid="0" _stroke="#f1f2f2" _fill="none" d="M3 3h16v16H3z"/>'}})},"4c84":function(e,t,r){"use strict";var n=r("d19a"),o=r.n(n);o.a},"56d7":function(e,t,r){"use strict";r.r(t),r.d(t,"eventBus",(function(){return ve}));r("cadf"),r("551c"),r("f751"),r("097d"),r("1d0d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page"},[r("div",{staticClass:"sidebar"},[r("div",{staticClass:"controls-wrapper"},[r("div",{staticClass:"controls"},[r("p",{staticClass:"mt-3 lead text-center text-white"},[e._v(" Source ")]),r("div",{staticClass:"sidebar-control"},[e._m(0),r("div",{staticClass:"custom-file"},[r("input",{staticClass:"custom-file-input",attrs:{type:"file",accept:"image/svg+xml",id:"sourcefile"},on:{change:e.onSourceFileChange}}),r("label",{staticClass:"custom-file-label",attrs:{for:"sourcefile"}},[e._v("Choose file")])])]),e.source.loading?r("div",{staticClass:"progress"},[r("div",{staticClass:"progress-bar",staticStyle:{width:"100%"},attrs:{role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"}},[e._v("Loading SVG")])]):e._e(),r("transition",{attrs:{name:"slide"}},[e.source.svg?r("div",[r("toggle",{attrs:{label:"Closed Path"},model:{value:e.source.closedPath,callback:function(t){e.$set(e.source,"closedPath",t)},expression:"source.closedPath"}}),r("p",{staticClass:"mt-3 lead text-center text-white"},[e._v(" Cropper ")]),r("select-field",{attrs:{label:"Cropper type",options:e.cropper.options},model:{value:e.cropper.type,callback:function(t){e.$set(e.cropper,"type",t)},expression:"cropper.type"}}),"custom"===e.cropper.type?r("button-group",{on:{onLeftClick:e.clearCustomCropper,onRightClick:e.saveCustomCropper}}):e._e(),"file"===e.cropper.type?r("div",{staticClass:"sidebar-control"},[r("div",{staticClass:"custom-file"},[r("input",{staticClass:"custom-file-input",attrs:{type:"file",accept:"image/svg+xml",id:"cropperFile"},on:{change:e.onCropperFileChange}}),r("label",{staticClass:"custom-file-label",attrs:{for:"cropperFile"}},[e._v("Choose file")])])]):e._e(),"polygon"===e.cropper.type?r("slider",{attrs:{min:3,max:10,step:1,label:"Sides"},model:{value:e.cropper.polygon.sides,callback:function(t){e.$set(e.cropper.polygon,"sides",e._n(t))},expression:"cropper.polygon.sides"}}):e._e(),"polygon"===e.cropper.type?r("slider",{attrs:{min:0,max:360,step:1,label:"Angle"},model:{value:e.cropper.polygon.startingAngle,callback:function(t){e.$set(e.cropper.polygon,"startingAngle",e._n(t))},expression:"cropper.polygon.startingAngle"}}):e._e(),r("slider",{attrs:{min:30,max:1e3,label:"Quality"},model:{value:e.cropper.scale,callback:function(t){e.$set(e.cropper,"scale",e._n(t))},expression:"cropper.scale"}}),r("toggle",{attrs:{label:"Clean Path"},model:{value:e.cropper.clean,callback:function(t){e.$set(e.cropper,"clean",t)},expression:"cropper.clean"}}),e.cropper.clean?r("slider",{attrs:{min:.1,max:2,step:.1,label:"Clean Amount"},model:{value:e.cropper.cleanAmount,callback:function(t){e.$set(e.cropper,"cleanAmount",e._n(t))},expression:"cropper.cleanAmount"}}):e._e(),r("toggle",{attrs:{label:"Lighten Path"},model:{value:e.cropper.lighten,callback:function(t){e.$set(e.cropper,"lighten",t)},expression:"cropper.lighten"}}),e.cropper.lighten?r("slider",{attrs:{min:.1,max:2,step:.1,label:"Lighten Amount"},model:{value:e.cropper.lightenAmount,callback:function(t){e.$set(e.cropper,"lightenAmount",e._n(t))},expression:"cropper.lightenAmount"}}):e._e(),r("toggle",{attrs:{label:"Simplify Path"},model:{value:e.cropper.simplify,callback:function(t){e.$set(e.cropper,"simplify",t)},expression:"cropper.simplify"}}),r("button",{staticClass:"btn btn-block btn-secondary",attrs:{disabled:e.cropper.loading},on:{click:e.crop}},[e._v("Crop")])],1):e._e()])],1)]),r("div",{staticClass:"button"},[r("div",{staticClass:"reveal"}),r("button",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return t.preventDefault(),e.download(t)}}},[e._v("\n        Download SVG\n      ")])])]),r("div",{staticClass:"paper"},[r("div",{staticClass:"sketch",attrs:{id:"sketch"}},[r("div",{ref:"cropper",attrs:{id:"cropper"},on:{click:e.cropperClicked}}),r("div",{ref:"fileCropper",attrs:{id:"file-cropper"}}),e.cropper.set?r("Moveable",e._b({ref:"moveable",staticClass:"moveable-frame",on:{drag:e.handleDrag,resize:e.handleResize}},"Moveable",e.moveable,!1)):e._e(),e.source.svg?r("img",{attrs:{src:e.source.svg,width:e.source.optimized.width,height:e.source.optimized.height,alt:"Source SVG File Preview"}}):e._e()],1),r("div",{ref:"croppedSVG",attrs:{id:"croppedSVG"}})]),e._m(1)])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"control-header"},[r("div"),r("div",{staticClass:"control-label"},[e._v("\n              Upload File\n            ")]),r("div")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"footer-wrapper"},[r("div",{staticClass:"footer"},[r("h1",[e._v("SVG Cropper")]),r("p",[e._v("Project by "),r("a",{attrs:{target:"_blank",href:"http://twitter.com/msurguy"}},[e._v("@msurguy")]),e._v(" ("),r("a",{attrs:{target:"_blank",href:"http://github.com/msurguy/svg-cropper-tool"}},[e._v("Source")]),e._v(")\n      ")])])])}],a=(r("a481"),r("ac6a"),r("4917"),r("6762"),r("2fdb"),r("28a5"),r("96cf"),r("3b8d")),s=(r("7f7f"),r("e5bb")),c=r.n(s),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sidebar-control"},[r("div",{staticClass:"control-header"},[r("div",{staticClass:"custom-control custom-switch"},[r("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:e.guid},domProps:{value:e.value,checked:!!e.value},on:{change:e.onInput}}),r("label",{staticClass:"custom-control-label",attrs:{for:e.guid}},[e._v(e._s(e.label))])])])])},p=[],u=(r("6b54"),r("985d"),function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()}),h={name:"Toggle",props:{leftIcon:{type:Object},rightIcon:{type:Object},label:{type:String,default:""},value:{type:Boolean,default:!1}},data:function(){return{guid:u()}},methods:{onInput:function(e){this.$emit("input",e.target.checked)}}},d=h,f=r("2877"),m=Object(f["a"])(d,l,p,!1,null,null,null),v=m.exports,g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sidebar-control"},[r("div",{staticClass:"control-header"},[r("div",[e.leftIcon?r("svgicon",{attrs:{name:e.leftIcon.icon,width:e.leftIcon.width,height:e.leftIcon.height,color:"#FFFFFF",fill:!1}}):e._e()],1),r("div",{staticClass:"control-label"},[e._v("\n      "+e._s(e.label)+"\n    ")]),r("div",[e.rightIcon?r("svgicon",{attrs:{name:e.rightIcon.icon,width:e.rightIcon.width,height:e.rightIcon.height,color:"#FFFFFF",fill:!1}}):e._e()],1)]),r("div",{staticClass:"control-header"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedOption,expression:"selectedOption"}],staticClass:"custom-select custom-select-sm custom-select-input",on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedOption=t.target.multiple?r:r[0]},e.onInput]}},e._l(e.options,(function(t,n){return r("option",{key:n,domProps:{value:t.value}},[e._v("\n        "+e._s(t.text)+"\n      ")])})),0)])])},b=[],y={name:"SelectField",props:{leftIcon:{type:Object},rightIcon:{type:Object},label:{type:String,default:"Label"},value:{type:String,default:""},options:{type:Array,default:function(){return[]}}},data:function(){return{selectedOption:""}},watch:{value:function(e){this.selectedOption=e}},mounted:function(){this.selectedOption=this.value},methods:{onInput:function(e){this.$emit("input",e.target.value),this.selectedOption=e.target.value}}},w=y,x=Object(f["a"])(w,g,b,!1,null,null,null),C=x.exports,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sidebar-control"},[r("div",{staticClass:"control-header"},[r("div",[e.leftIcon?r("svgicon",{attrs:{name:e.leftIcon.icon,width:e.leftIcon.width,height:e.leftIcon.height,color:"#FFFFFF",fill:!1}}):e._e()],1),r("div",{staticClass:"control-label"},[r("div",{staticClass:"control-output"},[r("input",{attrs:{disabled:e.disabled,type:"text"},domProps:{value:e.value},on:{change:e.onInput}})]),e._v(e._s(e.label)+"\n    ")]),r("div",[e.rightIcon?r("svgicon",{attrs:{name:e.rightIcon.icon,width:e.rightIcon.width,height:e.rightIcon.height,color:"#FFFFFF",fill:!1}}):e._e()],1)]),r("input",{staticClass:"custom-range",attrs:{disabled:e.disabled,type:"range",min:e.min,max:e.max,step:e.step},domProps:{value:e.value},on:{input:e.onInput}})])},k=[],_=(r("c5f6"),{name:"Slider",props:{disabled:{type:Boolean,default:!1},leftIcon:{type:Object},rightIcon:{type:Object},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},label:{type:String,default:"Label"},value:{type:Number,default:50}},methods:{onInput:function(e){e.target.value>this.min?this.$emit("input",e.target.value):this.$emit("input",this.min),e.target.value<this.min&&this.$emit("input",this.min)}}}),O=_,A=Object(f["a"])(O,S,k,!1,null,null,null),E=A.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sidebar-control"},[r("div",{staticClass:"control-header nav-fill"},[r("button",{staticClass:"nav-item btn rounded btn-sm btn-light mr-3",on:{click:function(t){return t.preventDefault(),e.$emit("onLeftClick")}}},[e._v("Clear")]),r("button",{staticClass:"nav-item btn rounded btn-sm btn-light",on:{click:function(t){return t.preventDefault(),e.$emit("onRightClick")}}},[e._v("Save")])])])},j=[],I={name:"ButtonGroup"},F=I,M=Object(f["a"])(F,P,j,!1,null,null,null),z=M.exports;function G(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="";for(t=0;t<e.length;t++){for(r=0;r<e[t].length;r++)i+=r?"L":"M",i+=e[t][r].X/n+", "+e[t][r].Y/n;o&&(i+="Z")}return""===i&&(i="M0,0"),i}function T(e,t,r,n,o){for(var i,a,s="",c=0;c<r;c++){var l=2*Math.PI/r*c+o*(Math.PI/180);i=e+n*Math.sin(l),a=t+n*Math.cos(l),s+=i+","+a+" "}return s}function V(e,t){var r='<?xml version="1.0" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">',n=(new XMLSerializer).serializeToString(e);n=n.replace(/([+]?\d+\.\d{3,}([eE][+]?\d+)?)/g,(function(e){return(+e).toFixed(3)})),n=n.replace(/ data-v-([0-9a-z]){8}=""/g,(function(){return""}));var o=new Blob([r+n],{type:"image/svg+xml;charset=utf-8"}),i=URL.createObjectURL(o),a=document.createElement("a");a.href=i,a.download="".concat(t,".svg"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}function D(e){return"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(e)}var L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._t("default")],2)},$=[],B=(r("8e6e"),r("456d"),r("bd86")),R=r("533b");function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){Object(B["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var H=["dragStart","drag","dragEnd","resizeStart","resize","resizeEnd","scaleStart","scale","scaleEnd","rotateStart","rotate","rotateEnd","warpStart","warp","warpEnd","pinchStart","pinch","pinchEnd"],X={name:"Moveable",inheritAttrs:!1,props:{draggable:Boolean,resizable:Boolean,scalable:Boolean,rotatable:Boolean,warpable:Boolean,pinchable:[Boolean,Array],origin:Boolean,throttleDrag:Number,throttleResize:Number,throttleScale:Number,throttleRotate:Number,keepRatio:Boolean,container:{type:[HTMLElement,SVGElement],default:function(){return document.body}}},methods:{updateRec:function(){this.moveable.updateRect()}},mounted:function(){var e=this;this.moveable=new R["a"](this.$props.container,U(U({},this.$props),{},{target:this.$el})),H.forEach((function(t){return e.moveable.on(t,e.$emit.bind(e,t))})),window.addEventListener("resize",this.updateRec,{passive:!0})},watch:{$props:{handler:function(e){var t=this;Object.keys(e).forEach((function(r){var n=t.moveable[r],o=e[r];n!==o&&(t.moveable[r]=e[r])}))},deep:!0}},beforeDestroy:function(){var e=this;H.forEach((function(t){return e.moveable.off(t,e.$emit.bind(e,t))})),window.removeEventListener("resize",this.updateRec),this.moveable.destroy()}},J=X,K=Object(f["a"])(J,L,$,!1,null,null,null),Y=K.exports,Z=r("1929"),q=r("abc3"),Q=r("b117"),W=r("01f2"),ee=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function te(e){return re.apply(this,arguments)}function re(){return re=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,W["a"].load({data:t});case 2:return e.next=4,W["a"].process();case 4:r=e.sent,n={text:r.data,width:r.dimensions.width,height:r.dimensions.height};case 6:return e.next=8,W["a"].nextPass();case 8:if(!(r=e.sent)){e.next=14;break}return n={text:r.data,width:r.dimensions.width,height:r.dimensions.height},e.next=12,ee(n);case 12:e.next=6;break;case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}var ne=96,oe=["mm","cm","m","pc","pt","in","ft","px"],ie={m:{system:"metric",factor:1},cm:{system:"metric",factor:.01},mm:{system:"metric",factor:.001},pt:{system:"imperial",factor:1/72},pc:{system:"imperial",factor:1/6},in:{system:"imperial",factor:1},ft:{system:"imperial",factor:12}},ae={metric:{unit:"m",ratio:1/.0254},imperial:{unit:"in",ratio:.0254}},se=function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)};function ce(e,t,r,n){if("number"!==typeof e||!isFinite(e))throw new Error("Value must be a finite number");if(!t||!r)throw new Error("Must specify from and to units");n=n||{};var o=n.pixelsPerInch||ne,i=n.precision,a=!1!==n.roundPixel;if(t=t.toLowerCase(),r=r.toLowerCase(),-1===oe.indexOf(t))throw new Error('Invalid from unit "'+t+'", must be one of: '+oe.join(", "));if(-1===oe.indexOf(r))throw new Error('Invalid from unit "'+r+'", must be one of: '+oe.join(", "));if(t===r)return e;var s=1,c=1,l=!1;"px"===t&&(c=1/o,t="in"),"px"===r&&(l=!0,s=o,r="in");var p=ie[t],u=ie[r],h=e*p.factor*c;p.system!==u.system&&(h*=ae[p.system].ratio);var d=h/u.factor*s;return l&&a?d=Math.round(d):"number"===typeof i&&isFinite(i)&&(d=se(d,i)),d}var le={fill:"none",stroke:"#f06","stroke-width":"3px"},pe={name:"App",components:{Toggle:v,SelectField:C,Slider:E,ButtonGroup:z,Moveable:Y},watch:{"cropper.type":function(e,t){"custom"!==e&&"file"!==e||"custom"===t&&"file"===t||(this.cropper.set=!1),"custom"!==t&&"file"!==t||"custom"===e&&"file"===e||(this.positionCropper(),this.cropper.set=!0),this.switchCropperShape(e)},"cropper.polygon.sides":function(){this.switchCropperShape(this.cropper.type)},"cropper.polygon.startingAngle":function(){this.switchCropperShape(this.cropper.type)},"cropper.custom.points":function(e){this.cropper.custom.el&&this.cropper.custom.el.plot(e)}},mounted:function(){c.a.init();var e=document.getElementById("cropper");this.cropper.svg.element=Z(e),this.cropper.file.el=document.getElementById("file-cropper"),this.moveable={draggable:!0,throttleDrag:0,resizable:!0,throttleResize:1,keepRatio:!1,scalable:!1,throttleScale:0,rotatable:!1,throttleRotate:0,origin:!0,pinchable:!1,container:document.getElementById("sketch")}},created:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},beforeDestroy:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},data:function(){return{moveable:{},source:{originalSVG:"",width:{unit:"px",value:0},height:{unit:"px",value:0},name:"",loading:!1,svg:null,optimized:{text:"",width:0,height:0},closedPath:!1,position:[0,0]},cropper:{loading:!1,set:!1,scale:100,x:0,y:-1,width:200,height:200,closedPath:!0,clean:!1,cleanAmount:.1,simplify:!1,lighten:!1,lightenAmount:.1,type:"rectangle",options:[{text:"Rectangle",value:"rectangle"},{text:"Circle / Ellipse",value:"ellipse"},{text:"Polygon",value:"polygon"},{text:"Custom Shape",value:"custom"},{text:"SVG File",value:"file"}],rectangle:{el:null},ellipse:{el:null},polygon:{el:null,sides:4,startingAngle:0},custom:{el:null,points:[]},file:{el:null},svg:{element:null,width:0,height:0}}}},methods:{cropperClicked:function(e){if("custom"===this.cropper.type){var t=e.offsetX,r=e.offsetY;this.cropper.custom.points.push([t,r])}},switchCropperShape:function(e){var t;switch(this.cropper.svg.element.clear(),e){case"rectangle":this.cropper.rectangle.el=this.cropper.svg.element.rect().attr(le),this.cropper.rectangle.el.size(this.cropper.width,this.cropper.height),this.cropper.rectangle.el.move(this.cropper.x,this.cropper.y);break;case"ellipse":this.cropper.ellipse.el=this.cropper.svg.element.ellipse().attr(le),this.cropper.ellipse.el.size(this.cropper.width,this.cropper.height),this.cropper.ellipse.el.center(this.cropper.x+this.cropper.width/2,this.cropper.y+this.cropper.height/2);break;case"polygon":t=T(this.cropper.x+this.cropper.width/2,this.cropper.y+this.cropper.height/2,this.cropper.polygon.sides,this.cropper.width/2,this.cropper.polygon.startingAngle),this.cropper.polygon.el=this.cropper.svg.element.polygon(t).attr(le),this.cropper.polygon.el.size(this.cropper.width,this.cropper.height),this.cropper.polygon.el.center(this.cropper.x+this.cropper.width/2,this.cropper.y+this.cropper.height/2);break;case"custom":this.cropper.custom.el=this.cropper.svg.element.polygon().attr(le);break}},clearCustomCropper:function(){this.cropper.custom.points=[]},saveCustomCropper:function(){this.cropper.custom.points.length&&V(this.cropper.svg.element.node,"cropper-shape-".concat(Date.now()))},moveCropperShape:function(e,t){this.cropper[this.cropper.type].el.center(e,t)},resizeCropperShape:function(e,t){this.cropper[this.cropper.type].el.size(e,t)},onKeyDown:function(e){"Shift"===e.key&&(this.moveable.keepRatio=!0)},onKeyUp:function(e){"Shift"===e.key&&(this.moveable.keepRatio=!1)},download:function(){V(this.$refs.croppedSVG.firstChild,"cropped-".concat(this.source.name,"-").concat(Date.now()))},resetCropper:function(){this.source.optimized={},this.source.svg=null,this.clearCustomCropper()},positionCropper:function(){this.cropper.x=0,this.cropper.y=-1,this.cropper.width=this.source.optimized.width>200?200:this.source.optimized.width,this.cropper.height=this.source.optimized.height>200?200:this.source.optimized.height},onCropperFileChange:function(e){this.cropper.loading=!0;var t=e.target.files||e.dataTransfer.files;t.length&&this.readCropperImage(t[0])},readCropperImage:function(e){var t=this,r=new FileReader;r.onload=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,te(r.target.result);case 2:n=e.sent,t.cropper.file.el.innerHTML=n.text,t.cropper.loading=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.readAsText(e)},onSourceFileChange:function(e){this.source.loading=!0,this.resetCropper();var t=e.target.files||e.dataTransfer.files;t.length&&this.readSourceImage(t[0])},readSourceImage:function(e){var t=this;this.cropper.set=!1;var r=new FileReader;r.onload=function(){var r=Object(a["a"])(regeneratorRuntime.mark((function r(n){var o,i,a,s,c,l,p,u,h,d,f,m,v,g,b;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.source.name=e.name.substr(0,e.name.lastIndexOf(".")),o=n.target.result,i=o.indexOf("<svg "),-1===i&&(i=o.indexOf("<SVG ")),o=o.substring(i),t.source.originalSVG=(new DOMParser).parseFromString(o,"image/svg+xml").documentElement,c=!1,p={width:0,height:0},u=t.source.originalSVG.hasAttribute("viewbox")?t.source.originalSVG.getAttribute("viewbox"):t.source.originalSVG.getAttribute("viewBox"),u&&(h=u.indexOf(",")>-1?",":" ",l=u.split(h).map((function(e){return parseFloat(e)})),p.width=l[2],p.height=l[3]),t.source.originalSVG.hasAttribute("width")&&t.source.originalSVG.hasAttribute("height")?(a=t.source.originalSVG.getAttribute("width"),s=t.source.originalSVG.getAttribute("height"),c=["m","mm","in","pt","pc","ft"].some((function(e){return a.includes(e)})),p={width:a,height:s}):(t.source.originalSVG.setAttribute("width","".concat(p.width,"px")),t.source.originalSVG.setAttribute("height","".concat(p.height,"px"))),0===p.width&&0===p.height&&alert("Cannot retrieve dimensions (width / height) of the SVG file"),c&&(d=a.match(/[a-zA-Z]+/g)[0],f=s.match(/[a-zA-Z]+/g)[0],t.source.width.unit=d,t.source.height.unit=f,t.source.width.value=parseFloat(a.slice(0,-d.length)),t.source.height.value=parseFloat(s.slice(0,-f.length)),m=ce(t.source.width.value,t.source.width.unit,"px"),v=ce(t.source.height.value,t.source.height.unit,"px"),g=m,b=v,t.source.width.value<p.width&&(g=ce(p.width,t.source.width.unit,"px")),t.source.height.value<p.height&&(b=ce(p.height,t.source.height.unit,"px")),t.source.originalSVG.setAttribute("width","".concat(g,"px")),t.source.originalSVG.setAttribute("height","".concat(b,"px")),t.source.originalSVG.innerHTML='<g transform="scale('.concat(m/t.source.width.value," ").concat(v/t.source.height.value,')">').concat(t.source.originalSVG.innerHTML,"</g>")),t.source.originalSVG.removeAttribute("viewBox"),r.next=16,te(t.source.originalSVG.outerHTML);case 16:t.source.optimized=r.sent,t.source.svg=D(t.source.optimized.text),t.cropper.svg.element.clear().size(t.source.optimized.width,t.source.optimized.height),t.positionCropper(),t.cropper.set=!0,t.switchCropperShape(t.cropper.type),t.source.loading=!1;case 23:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),r.readAsText(e)},crop:function(){var e=this;this.cropper.loading=!0;var t=new DOMParser,r=t.parseFromString(this.source.optimized.text,"image/svg+xml"),n=Object(Q["flattenSVG"])(r.documentElement),o="file"===this.cropper.type?Object(Q["flattenSVG"])(this.cropper.file.el.children[0]):Object(Q["flattenSVG"])(this.cropper.svg.element.node),i="";n.forEach((function(t){var r=[],n=[];t.points.forEach((function(e){n.push({X:e[0],Y:e[1]})})),r.push(n);var a=[],s=[];o[0].points.forEach((function(e){s.push({X:e[0],Y:e[1]})})),a.push(s);var c=r,l=a,p=new q["Clipper"];q["JS"].ScaleUpPaths(c,e.cropper.scale),q["JS"].ScaleUpPaths(l,e.cropper.scale),p.AddPaths(c,q["PolyType"].ptSubject,e.source.closedPath),p.AddPaths(l,q["PolyType"].ptClip,e.cropper.closedPath);var u=new q["PolyTree"];p.Execute(q["ClipType"].ctIntersection,u,q["PolyFillType"].pftNonZero,q["PolyFillType"].pftNonZero);var h=q["Clipper"].PolyTreeToPaths(u);e.cropper.clean&&(h=q["JS"].Clean(h,e.cropper.cleanAmount*e.cropper.scale)),e.cropper.simplify&&(h=q["Clipper"].SimplifyPolygons(h)),e.cropper.lighten&&(h=q["JS"].Lighten(h,e.cropper.lightenAmount*e.cropper.scale)),h.length&&(i+='<path stroke="black" fill="none" stroke-width="1" d="'+G(h,e.cropper.scale,e.source.closedPath)+'"/>')})),this.$refs.croppedSVG.innerHTML='<svg style="background-color:#FFF" width="'.concat(this.source.optimized.width,'" height="').concat(this.source.optimized.height,'">').concat(i,"</svg>"),this.cropper.loading=!1},handleDrag:function(e){var t=e.target,r=e.left,n=e.top;t.style.left="".concat(r,"px"),t.style.top="".concat(n,"px"),this.cropper.x=r,this.cropper.y=n,this.moveCropperShape(r+this.cropper.width/2,n+this.cropper.height/2)},handleResize:function(e){var t=e.target,r=e.width,n=e.height,o=e.delta;o[0]&&(t.style.width="".concat(r,"px")),o[1]&&(t.style.height="".concat(n,"px")),this.cropper.width=r,this.cropper.height=n,this.moveCropperShape(parseInt(t.style.left.replace("px",""))+r/2,parseInt(t.style.top.replace("px",""))+n/2),this.resizeCropperShape(r,n)}}},ue=pe,he=(r("4c84"),Object(f["a"])(ue,o,i,!1,null,"bde47c5a",null)),de=he.exports,fe=r("038a"),me=r.n(fe);n["a"].config.productionTip=!1,n["a"].use(me.a,{tagName:"svgicon"});var ve=new n["a"];new n["a"]({render:function(e){return e(de)}}).$mount("#app")},"652c":function(e,t,r){var n=r("038a");n.register({"line-sharp":{width:16,height:16,viewBox:"0 0 22 22",data:'<path pid="0" _fill="none" _stroke="#f1f2f2" stroke-miterlimit="10" d="M4.5 18.5l4-11 11-4"/>'}})},"70a7":function(e,t,r){var n=r("038a");n.register({"line-curve":{width:16,height:16,viewBox:"0 0 22 22",data:'<path pid="0" d="M4.5 18.5s-1-8 3-12 12-3 12-3" _fill="none" _stroke="#f1f2f2" stroke-miterlimit="10"/>'}})},"92cd":function(e,t,r){var n=r("038a");n.register({triangle:{width:16,height:16,viewBox:"0 0 23.3 21.2",data:'<path pid="0" _fill="none" _stroke="#d1d3d4" stroke-miterlimit="10" d="M11.6 1L.8 20.7h21.6L11.6 1z"/>'}})},"985d":function(e,t,r){r("dbb1"),r("130e"),r("eca5"),r("70a7"),r("652c"),r("229a"),r("d37b"),r("df54"),r("92cd")},d19a:function(e,t,r){},d37b:function(e,t,r){var n=r("038a");n.register({squares:{width:16,height:16,viewBox:"0 0 22 22",data:'<path pid="0" _stroke="#f1f2f2" _fill="none" d="M1 5h16v16H1z"/><path pid="1" _stroke="#f1f2f2" _fill="none" d="M3 3h16v16H3z"/><path pid="2" _stroke="#f1f2f2" _fill="none" d="M5 1h16v16H5z"/>'}})},dbb1:function(e,t,r){var n=r("038a");n.register({"angle-short":{width:16,height:16,viewBox:"0 0 22 22",data:'<circle pid="0" cx="10.5" cy="10.5" r="9.5" _fill="#fff" _stroke="#f1f2f2" stroke-linecap="round" stroke-miterlimit="10" opacity=".2"/><path pid="1" _fill="none" _stroke="#f1f2f2" stroke-miterlimit="10" d="M10.5.5V1M17.5 3.5l-7 8V1M17.2 3.8A9.5 9.5 0 0 0 10.5 1"/>'}})},df54:function(e,t,r){var n=r("038a");n.register({"triangle-large":{width:16,height:16,viewBox:"0 0 22 22",data:'<path pid="0" _stroke="#f1f2f2" _fill="none" d="M21 21L10 3 1 21z"/>'}})},eca5:function(e,t,r){var n=r("038a");n.register({hexagon:{width:16,height:16,viewBox:"0 0 22 22",data:'<path pid="0" _fill="none" _stroke="#f1f2f2" stroke-miterlimit="10" d="M16 2.3H6L1 11l5 8.7h10l5-8.7-5-8.7z"/>'}})}});
//# sourceMappingURL=app.f6637521.js.map